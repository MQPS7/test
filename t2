
repeat wait(0.5) until game.Players and game.Players.LocalPlayer and game.Players.LocalPlayer.Character

local queueScript = string.format([[loadstring(game:HttpGet('https://raw.githubusercontent.com/MQPS7/test/refs/heads/main/t2'))()]])

if getgenv().RunScript == true then	return end
queue_on_teleport(queueScript)

TweenService = game:GetService("TweenService");RunService = game:GetService("RunService")
Lighting = game:GetService("Lighting")
replicatedStorage = game:GetService("ReplicatedStorage")
UIS = game:GetService("UserInputService")
player = game.Players.LocalPlayer
character = player.Character
humanoid = character:FindFirstChildOfClass("Humanoid")
HMNRT = character:FindFirstChild("HumanoidRootPart")
Camera = workspace.CurrentCamera
plrGui = player.PlayerGui
Inventory = player:WaitForChild("Inventory")
HttpService = game:GetService("HttpService")
request = http_request or syn.request or request

local function matchesAllowedKeyword(value, allowedKeywords)
	value = value:lower()
	for _, keyword in ipairs(allowedKeywords) do
		if string.find(value, keyword:lower()) then
			return true
		end
	end
	return false
end

if tonumber(game.PlaceId) == tonumber(79546208627805) then
	getgenv().RunScript = true
	local TeleporterAssets = plrGui:WaitForChild("TeleporterAssets")
	if plrGui:WaitForChild("Interface"):WaitForChild("EntryScreen") then
		plrGui:WaitForChild("Interface"):WaitForChild("EntryScreen").Visible = false
	end
	if TeleporterAssets:WaitForChild("Frame") then
		TeleporterAssets:WaitForChild("Frame").Visible = true
		local Frame = TeleporterAssets:WaitForChild("Frame")
		if Frame:FindFirstChild("TextLabel1") then
			local TextLabel1 = Frame:FindFirstChild("TextLabel1")
			TextLabel1.Text = "Somtank"
			TextLabel1.Visible = true
			TextLabel1.TextColor3 = Color3.new(0.454902, 0.0117647, 1)
		end
		if Frame:FindFirstChild("TextLabel2") then
			local TextLabel2 = Frame:FindFirstChild("TextLabel2")
			TextLabel2.Text = "Gems"
			TextLabel2.Visible = true
			TextLabel2.TextColor3 = Color3.new(0.513725, 0.321569, 1)
		end
		if Frame:FindFirstChild("TextLabel3") then
			local TextLabel3 = Frame:FindFirstChild("TextLabel3")
			TextLabel3.Text = "Farm"
			TextLabel3.Visible = true
			TextLabel3.TextColor3 = Color3.new(0.513725, 0.321569, 1)
		end
	end
	local VirtualInputManager = game:GetService("VirtualInputManager")
	local screenSize = workspace.CurrentCamera.ViewportSize
	local centerX = screenSize.X / 2
	local centerY = screenSize.Y / 2

	local function Click_Function()
		VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, true, game, 0)
		wait(0.02)
		VirtualInputManager:SendMouseButtonEvent(centerX, centerY, 0, false, game, 0)
		wait(0.02)
	end
	wait(6)
	local Teleport = false
	repeat
		local GotoEnterPart = false
		if GotoEnterPart == false then
			for i=1,3 do
				if workspace:FindFirstChild("Teleporter"..i) then
					local Model_Teleport = workspace:FindFirstChild("Teleporter"..i)
					if Model_Teleport:FindFirstChild("BillboardHolder") then
						local BillboardHolder = Model_Teleport:FindFirstChild("BillboardHolder")
						local Players = BillboardHolder:FindFirstChild("BillboardGui"):FindFirstChild("Players")
						if Players.Text == "0/5" then
							for _, item in ipairs(Model_Teleport:GetChildren()) do
								if item.Name == "EnterPart" and GotoEnterPart == false then
									firetouchinterest(HMNRT, item, 0)
									GotoEnterPart = true
									wait(0.1)
								end
							end
						end
					end
				end
			end
		end
		if GotoEnterPart == true then
			GotoEnterPart = false
			local LobbyCreate = plrGui:FindFirstChild("Interface"):FindFirstChild("LobbyCreate")
			local ButtonList = LobbyCreate:FindFirstChild("ButtonList")
			local CreateButton = LobbyCreate:FindFirstChild("HeaderFrame"):FindFirstChild("CreateButton")
			local Buttin1 = nil
			if ButtonList and LobbyCreate then
				for _, item in ipairs(ButtonList:GetChildren()) do
					if item.Name ~= "Button1" then
						item:Destroy()
					else
						Buttin1 = item
					end
				end
				if Buttin1 and CreateButton then
					CreateButton.Position = UDim2.new(0.5, 0, 4.5, 0)

					if TeleporterAssets:WaitForChild("Frame") then
						TeleporterAssets:WaitForChild("Frame").Visible = false
					end
					for i=1,5 do
						Click_Function()
					end
					Buttin1.Visible = false
					for i=1,5 do
						Click_Function()
					end
					if TeleporterAssets:WaitForChild("Frame") then
						TeleporterAssets:WaitForChild("Frame").Visible = true
					end
					wait(30)
					game:GetService("TeleportService"):Teleport(79546208627805)

				end
			end
		end
		wait(0.1)
	until Teleport == true
else--InGame
	getgenv().RunScript = true
	DiamondCount = plrGui:WaitForChild("Interface"):WaitForChild("DiamondCount"):FindFirstChild("Count")
	Map = workspace:WaitForChild("Map")
	InnerTouchZone = Map:WaitForChild("Campground"):WaitForChild("MainFire"):WaitForChild("InnerTouchZone")
	RemoteEvents = game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents")
	RequestStartDraggingItem = RemoteEvents:FindFirstChild("RequestStartDraggingItem")
	StopDraggingItem = RemoteEvents:FindFirstChild("StopDraggingItem")
	RequestTakeDiamonds = RemoteEvents:FindFirstChild("RequestTakeDiamonds")
	FastBring_Delay = 0.17
	Bring_HipHeight = 6
	StartCountDiamon = tonumber(DiamondCount.Text)
	Items = workspace:WaitForChild("Items")
	if workspace:FindFirstChild("Map"):FindFirstChild("Boundaries") then
		workspace:FindFirstChild("Map"):FindFirstChild("Boundaries"):Destroy()
	end
	local function BringItemWithItem2(item2)
		pcall(function()
			humanoid.HipHeight = Bring_HipHeight
			HMNRT.CFrame = CFrame.new(item2.PrimaryPart.Position) * CFrame.new(0,Bring_HipHeight,0)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			RequestStartDraggingItem:FireServer(item2)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			item2.PrimaryPart.CFrame = InnerTouchZone.CFrame * CFrame.new(0,15,0)
			wait(FastBring_Delay)
			HMNRT.CFrame = CFrame.new(InnerTouchZone.Position) * CFrame.new(0,Bring_HipHeight,0)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			wait(FastBring_Delay)
			StopDraggingItem:FireServer(item2)
			wait(FastBring_Delay)
			StopDraggingItem:FireServer(item2)
			wait(FastBring_Delay)
			humanoid.HipHeight = 0
		end)
	end
	for _, item2 in ipairs(Items:GetChildren()) do
		if matchesAllowedKeyword(item2.Name, {"Chest"}) then
			pcall(function()
				repeat
					wait(0.3)
				until item2.PrimaryPart.ProximityAttachment.ProximityInteraction
				local Prox = item2.PrimaryPart.ProximityAttachment.ProximityInteraction
				humanoid.HipHeight = 16
				HMNRT.CFrame = CFrame.new(item2.PrimaryPart.Position) * CFrame.new(0,16,0)
				wait(0.2)
				fireproximityprompt(Prox)
				wait(0.2)
				humanoid.HipHeight = 0
			end)
		end
	end
	wait(1)
	for _, Model in ipairs(Items:GetChildren()) do
		if Model.Name == "Diamond" then
			pcall(function()
				if Model.PrimaryPart then
					wait(0.1)
					HMNRT.CFrame = Model.PrimaryPart.CFrame
					wait(0.1)
					RequestStartDraggingItem:FireServer(Model)
					wait(0.1)
					RequestTakeDiamonds:FireServer(Model)
					wait(0.1)
					StopDraggingItem:FireServer(Model)
				end
				wait()
			end)
		end
	end
	player:Kick("Teleport New Server")
	wait(1)
	game:GetService("TeleportService"):Teleport(126509999114328)
end
